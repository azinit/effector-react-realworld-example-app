"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[186],{4186:function(e,r,t){t.r(r),t.d(r,{default:function(){return D}});var n=t(9701),i=t(4246),c=function(e){var r=e.tag,t=e.onTagClick,c=e.children;return(0,i.jsxs)("span",{className:"tag-default tag-pill",children:[c,(0,i.jsx)(n.zx,{className:"editor-tag",size:"sm",onClick:function(){return t(r)},children:(0,i.jsx)("i",{className:"ion-close-round"})})]})},l=t(7378),o=t(3451),a=t(9041),s=t(7459),u=t(1549),f=t(6942),d=((0,u.yM)(),(0,u.yM)(),(0,u.GW)((function(e){return f.v_("articles",{article:e}).then((function(e){return e.data.article}))}))),j=(0,u.GW)((function(e){return f.U2("articles/".concat(e)).then((function(e){return e.data.article}))}));d.doneData.watch((function(e){var r=e.slug;s.m8.replace("/article/".concat(r))}));var p=(0,a.Bq)(),h=(0,u.MT)({errors:{}}).on(d.failData,(function(e,r){var t;return null===(t=r.response)||void 0===t?void 0:t.data})).reset(p.close),b=h.map((function(e){return Object.keys(Object(e)).length>0})),x=h.map((function(e){return Object.entries(Object(null==e?void 0:e.errors))})),g=function(){var e=(0,o.Gc)(),r=e.setValue,t=e.watch,a=(0,l.useRef)(null),s=t("tagList"),u=(0,l.useCallback)((function(e){r("tagList",s.filter((function(r){return r!==e})))}),[r,s]);return(0,i.jsxs)(n.l0,{onSubmit:function(e){e.preventDefault()},children:[(0,i.jsx)(n.l0.Control,{ref:a,onKeyDown:function(e){var t,n,i=null===(t=a.current)||void 0===t?void 0:t.value;"Enter"===e.key&&i&&(r("tagList",(n=s.concat(i),Array.from(new Set(n)))),a.current.value="")}}),(0,i.jsx)(n.aV,{children:s.map((function(e){return(0,i.jsx)(c,{tag:e,onTagClick:u,children:e},e)}))})]})},v=function(){var e=(0,a.oR)(d.pending);return(0,i.jsx)(n.zx,{className:"btn-primary pull-xs-right",disabled:e,form:"editor",size:"lg",type:"submit",children:"Publish article"})};function m(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?m(Object(t),!0).forEach((function(r){O(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function O(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var w=function(){(0,a.DD)(p);var e=(0,s.UO)().slug,r=(0,o.cI)({defaultValues:{slug:"",title:"",description:"",body:"",tagList:[]}}),t=r.handleSubmit,c=r.register,u=r.reset;return(0,l.useEffect)((function(){e&&j(e);var r=j.doneData.watch((function(e){u(e)}));return function(){return r()}}),[e,u]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.RV,y(y({},r),{},{children:[(0,i.jsxs)(n.l0,{id:"editor",onSubmit:t(d),children:[(0,i.jsx)(n.l0.Group,{children:(0,i.jsx)(n.l0.Control,y({placeholder:"Article Title",size:"lg"},c("title")))}),(0,i.jsx)(n.l0.Group,{children:(0,i.jsx)(n.l0.Control,y({placeholder:"What's this article about?"},c("description")))}),(0,i.jsx)(n.l0.Group,{children:(0,i.jsx)(n.l0.Control,y({as:"textarea",placeholder:"Write your article (in markdown)",rows:8},c("body")))})]}),(0,i.jsx)(g,{})]})),(0,i.jsx)(v,{})]})},k=function(){var e=(0,a.oR)(b),r=(0,a.oR)(x);return e?(0,i.jsx)(n.KM,{errors:r}):null},D=function(){return(0,i.jsx)(n.T3,{children:(0,i.jsx)(n.X2,{children:(0,i.jsxs)("div",{className:"col-md-10 offset-md-1 col-xs-12",children:[(0,i.jsx)(k,{}),(0,i.jsx)(w,{})]})})})}}}]);