"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[411],{6763:function(e,t,r){r.d(t,{qn:function(){return p},fR:function(){return b},o4:function(){return n}});var n={};r.r(n),r.d(n,{createFeed:function(){return l}});var a=r(1549),i=r(3719),o=r(6942);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t=e.effect,r=(0,a.yM)(),n=r.filter({fn:function(e){return!0===e.favorited}}),c=r.filter({fn:function(e){return!1===e.favorited}}),s=(0,a.GW)((function(e){var t=e.slug;return o.v_("articles/".concat(t,"/favorite")).then((function(e){return e.data}))})),l=(0,a.GW)((function(e){var t=e.slug;return o.IV("articles/".concat(t,"/favorite")).then((function(e){return e.data}))})),f=(0,a.MT)({articlesCount:0,articles:[]}).on(t.doneData,(function(e,t){return t})).on(n,(function(e,t){return u(u({},e),{},{articles:e.articles.map((function(e){return e.slug!==t.slug?e:u(u({},e),{},{favorited:!e.favorited,favoritesCount:e.favoritesCount-1})}))})})).on(c,(function(e,t){return u(u({},e),{},{articles:e.articles.map((function(e){return e.slug!==t.slug?e:u(u({},e),{},{favorited:!e.favorited,favoritesCount:e.favoritesCount+1})}))})})).on([s.done,l.done],(function(e,t){var r=t.params,n=t.result;return u(u({},e),{},{articles:e.articles.map((function(e){return e.slug!==r.slug?e:u(u({},e),{},{favorited:n.article.favorited,favoritesCount:n.article.favoritesCount})}))})})).on([s.fail,l.fail],(function(e,t){var r=t.params;return u(u({},e),{},{articles:e.articles.map((function(e){return e.slug!==r.slug?e:u(u({},e),{},{favorited:r.favorited,favoritesCount:r.favoritesCount})}))})})),d=f.map((function(e){return e.articlesCount})),v=f.map((function(e){return e.articles})),p=(0,i.status)({effect:t}),g=(0,a.$e)(p,v,(function(e,t){return("done"===e||"fail"===e)&&0===t.length}));return(0,a.Vl)({source:r,match:{favorite:function(e){return!0===e.favorited},unfavorite:function(e){return!1===e.favorited}},cases:{favorite:l,unfavorite:s}}),{favoriteArticleToggled:r,setUnfavoriteArticleFx:l,$feed:f,$totalPages:d,$articles:v,$isEmptyFeed:g}}var f=r(4246),d=function(e){var t=e.children;return(0,f.jsx)("ul",{className:"articles-wrapper list-unstyled",children:t})},v=r(7459),p=function(e){var t=e.author,r=e.createdAt,n=e.children;return(0,f.jsxs)("div",{className:"article-meta",children:[(0,f.jsx)(v.rU,{to:"/@".concat(t.username),children:(0,f.jsx)("img",{alt:t.username,src:t.image})}),(0,f.jsxs)("div",{className:"info",children:[(0,f.jsx)(v.rU,{className:"author",to:"/@".concat(t.username),children:t.username}),(0,f.jsx)("span",{className:"date",children:new Date(r).toDateString()})]}),n]})},g=r(9701),m=function(e){var t=e.active,r=e.onClick,n=e.children;return(0,f.jsxs)(g.zx,{className:"button-favorite btn-outline-primary","data-active":t,size:"sm",onClick:r,children:[(0,f.jsx)("i",{className:"ion-heart"})," ",n]})},h=function(e){var t=e.article,r=t.author,n=t.createdAt,a=t.slug,i=t.title,o=t.description,c=t.tagList,u=t.favorited,s=t.favoritesCount,l=e.onClick;return(0,f.jsxs)("article",{className:"article-preview",children:[(0,f.jsx)(p,{author:r,createdAt:n,children:(0,f.jsx)("div",{className:"pull-xs-right",children:(0,f.jsx)(m,{active:u,onClick:l,children:s})})}),(0,f.jsxs)(v.rU,{className:"preview-link",to:"/article/".concat(a),children:[(0,f.jsx)("h1",{children:i}),(0,f.jsx)("p",{children:o}),(0,f.jsx)("span",{children:"Read more..."}),(0,f.jsx)(g.PS,{children:c.map((function(e){return(0,f.jsx)(g.Vp,{children:e.toLowerCase()},e)}))})]})]})},j=function(e){return e.show?(0,f.jsx)("div",{className:"empty-articles article-preview",children:"No articles are here... yet."}):null},x=r(9041),b=function(e){var t=e.loading,r=e.isEmpty,n=e.pageSize,a=e.pageNumber,i=e.totalPages,o=e.articles,c=e.onPageChange,u=e.onArticleClick;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(j,{show:r}),(0,f.jsx)(d,{children:(0,x.sm)(o,{getKey:function(e){return e.slug},fn:function(e){return(0,f.jsx)("li",{children:(0,f.jsx)(h,{article:e,onClick:function(){return u(e)}})})}})}),(0,f.jsx)(g.tl,{current:a,pageSize:n,total:i,onPageChange:c}),(0,f.jsx)(g.$j,{show:t})]})}},3411:function(e,t,r){r.r(t),r.d(t,{default:function(){return $}});var n=r(9041),a=r(6763),i=r(1549),o=r(6942),c=r(3300),u=r(9464),s=r(9895),l=(0,i.GW)((function(e){var t=e.username,r=e.pageIndex,n=e.pageSize;return o.U2("articles?author=".concat(encodeURIComponent(t),"&").concat((0,c.b)(n,r))).then((function(e){return e.data}))})),f=a.o4.createFeed({effect:l}),d=f.favoriteArticleToggled,v=(f.$feed,f.$isEmptyFeed),p=f.$articles,g=f.$totalPages,m=(0,i.MT)(5),h=(0,u.L)(),j=h.queryParamsSetted,x=h.$pageIndex,b=h.$pageNumber,y=(0,n.Bq)();(0,i.lo)({source:{username:s.o4.$username,pageSize:m,pageIndex:x},filter:function(e){return Boolean(e.username)},clock:[y.open,j],target:l});var C=function(){return(0,n.oR)(l.pending)},P=function(){return(0,n.oR)(v)},w=function(){return(0,n.oR)(g)},O=function(){return(0,n.oR)(m)},N=function(){return(0,n.oR)(b)},k=r(4246),$=function(){(0,n.DD)(y);var e=C(),t=P(),r=O(),i=N(),o=w();return(0,k.jsx)(a.fR,{articles:p,isEmpty:t,loading:e,pageNumber:i,pageSize:r,totalPages:o,onArticleClick:d,onPageChange:j})}},3300:function(e,t,r){r.d(t,{b:function(){return n}});var n=function(e,t){return"limit=".concat(e,"&offset=").concat(t*e)}},9464:function(e,t,r){r.d(t,{L:function(){return i}});var n=r(1549),a=r(8737);function i(){var e=(0,n.yM)(),t=(0,n.nu)(e.map(String),"1"),r=t.map(Number);(0,a.tJ)({store:t,key:"page"});var i=r.map((function(e){return e-1}));return{queryParamsSetted:e,$pageNumber:r,$pageIndex:i}}}}]);