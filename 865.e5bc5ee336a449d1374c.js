"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[865],{7712:function(e,t,r){r.d(t,{f:function(){return f}});var n=r(1549),i=r(3719),o=r(946),a=function(e){var t=e.slug;return o.WY({url:"articles/".concat(t,"/favorite"),method:"post"})},c=function(e){var t=e.slug;return o.WY({url:"articles/".concat(t,"/favorite"),method:"delete"})};function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=e.effect,r=(0,n.yM)(),o=r.filter({fn:function(e){return!0===e.favorited}}),u=r.filter({fn:function(e){return!1===e.favorited}}),s=(0,n.GW)(a),f=(0,n.GW)(c),d=(0,n.MT)({articlesCount:0,articles:[]}).on(t.doneData,(function(e,t){return t})).on(o,(function(e,t){return l(l({},e),{},{articles:e.articles.map((function(e){return e.slug!==t.slug?e:l(l({},e),{},{favorited:!e.favorited,favoritesCount:e.favoritesCount-1})}))})})).on(u,(function(e,t){return l(l({},e),{},{articles:e.articles.map((function(e){return e.slug!==t.slug?e:l(l({},e),{},{favorited:!e.favorited,favoritesCount:e.favoritesCount+1})}))})})).on([s.done,f.done],(function(e,t){var r=t.params,n=t.result;return l(l({},e),{},{articles:e.articles.map((function(e){return e.slug!==r.slug?e:l(l({},e),{},{favorited:n.article.favorited,favoritesCount:n.article.favoritesCount})}))})})).on([s.fail,f.fail],(function(e,t){var r=t.params;return l(l({},e),{},{articles:e.articles.map((function(e){return e.slug!==r.slug?e:l(l({},e),{},{favorited:r.favorited,favoritesCount:r.favoritesCount})}))})})),v=d.map((function(e){return e.articlesCount})),p=d.map((function(e){return e.articles})),m=(0,i.status)({effect:t}),g=(0,n.$e)(m,p,(function(e,t){return("done"===e||"fail"===e)&&0===t.length}));return(0,n.Vl)({source:r,match:{favorite:function(e){return!0===e.favorited},unfavorite:function(e){return!1===e.favorited}},cases:{favorite:f,unfavorite:s}}),{favoriteArticleToggled:r,setUnfavoriteArticleFx:f,$feed:d,$totalPages:v,$articles:p,$isEmptyFeed:g}}},7023:function(e,t,r){r.d(t,{q:function(){return a}});var n=r(7378),i=r(4289),o=r(4246),a=(0,n.memo)((function(e){var t=e.author,r=e.createdAt,n=e.children;return(0,o.jsxs)("div",{className:"article-meta",children:[(0,o.jsx)(i.rU,{to:"/@".concat(t.username),children:(0,o.jsx)("img",{alt:t.username,src:t.image})}),(0,o.jsxs)("div",{className:"info",children:[(0,o.jsx)(i.rU,{className:"author",to:"/@".concat(t.username),children:t.username}),(0,o.jsx)("span",{className:"date",children:new Date(r).toDateString()})]}),n]})}));a.displayName="ArticleMeta"},154:function(e,t,r){r.d(t,{f:function(){return g}});var n=r(9041),i=r(9848),o=r(7378),a=r(4289),c=r(2617),u=r(7545),l=r(7023),s=r(7765),f=r(4246),d=function(e){var t=e.slug,r=e.favorited,n=e.favoritesCount,i=e.onClick,o=e.children;return(0,f.jsxs)(s.z,{className:"button-favorite btn-outline-primary","data-active":r,size:"sm",onClick:function(){i({slug:t,favorited:r,favoritesCount:n})},children:[(0,f.jsx)("i",{className:"ion-heart"})," ",o]})},v=(0,o.memo)((function(e){var t=e.author,r=e.createdAt,n=e.slug,i=e.title,o=e.description,s=e.tagList,v=e.favorited,p=e.favoritesCount,m=e.onFavoriteToggle;return(0,f.jsxs)("article",{className:"article-preview",children:[(0,f.jsx)(l.q,{author:t,createdAt:r,children:(0,f.jsx)("div",{className:"pull-xs-right",children:(0,f.jsx)(d,{favorited:v,favoritesCount:p,slug:n,onClick:m,children:p})})}),(0,f.jsxs)(a.rU,{className:"preview-link",to:"/article/".concat(n),children:[(0,f.jsx)("h1",{children:i}),(0,f.jsx)("p",{children:o}),(0,f.jsx)("span",{children:"Read more..."}),(0,f.jsx)(c.o,{children:s.map((function(e){return(0,f.jsx)(u.V,{children:e.toLowerCase()},e)}))})]})]})}));v.displayName="Article Preview";var p=function(e){var t=e.children;return(0,f.jsx)("ul",{className:"articles-wrapper list-unstyled",children:t})},m=function(e){return e.show?(0,f.jsx)("div",{className:"empty-articles article-preview",children:"No articles are here... yet."}):null},g=function(e){var t=e.loading,r=e.isEmpty,o=e.articlesStore,a=e.onFavoriteToggle;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(m,{show:r}),(0,f.jsx)(p,{children:(0,n.sm)(o,{getKey:function(e){return e.slug},fn:function(e){return(0,f.jsx)("li",{children:(0,f.jsx)(v,{author:e.author,createdAt:e.createdAt,description:e.description,favorited:e.favorited,favoritesCount:e.favoritesCount,slug:e.slug,tagList:e.tagList,title:e.title,onFavoriteToggle:a})})}})}),(0,f.jsx)(i.$,{show:t})]})}},5865:function(e,t,r){r.r(t),r.d(t,{default:function(){return C}});var n=r(7378),i=r(335),o=r(154),a=r(7238),c=r(1549),u=r(9041),l=r(7712),s=r(946),f=r(3300),d=(0,c.GW)((function(e){var t=e.pageSize,r=e.page-1;return s.WY({url:"articles?".concat((0,f.b)(t,r)),method:"get"})})),v=l.f({effect:d}),p=v.favoriteArticleToggled,m=(v.$feed,v.$isEmptyFeed),g=v.$articles,h=v.$totalPages,j=function(){return(0,u.oR)(d.pending)},y=function(){return(0,u.oR)(m)},b=function(){return(0,u.oR)(h)},O=r(4246);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){c=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C=function(e){var t=e.pageSize,r=void 0===t?10:t,c=x((0,i.Wd)("page",(0,i.Wc)(i.yz,1)),2),u=c[0],l=c[1],s=j(),f=y(),v=b();(0,n.useEffect)((function(){d({pageSize:r,page:u})}),[u,r]);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(o.f,{articlesStore:g,isEmpty:f,loading:s,onFavoriteToggle:p}),(0,O.jsx)(a.t,{current:u,pageSize:r,total:v,onPageChange:function(e){l(e)}})]})}},3300:function(e,t,r){r.d(t,{b:function(){return n}});var n=function(e,t){return"limit=".concat(e,"&offset=").concat(t*e)}},7765:function(e,t,r){r.d(t,{z:function(){return f}});var n=r(7378),i=r(8944),o=r(4246),a=["type","size","className","children"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var f=(0,n.memo)((0,n.forwardRef)((function(e,t){var r=e.type,n=void 0===r?"button":r,c=e.size,l=void 0===c?"":c,f=e.className,d=void 0===f?"":f,v=e.children,p=s(e,a),m=(0,i.Z)("btn",{"btn-sm":"sm"===l,"btn-lg":"lg"===l});return(0,o.jsx)("button",u(u({className:"".concat(m," ").concat(d),ref:t,type:n},p),{},{children:v}))})));f.displayName="Button"},7238:function(e,t,r){r.d(t,{t:function(){return a}});var n=r(7378),i=r(4246),o=(0,n.memo)((function(e){var t=e.active,r=e.onItemClick,n=e.item,o=e.children;return(0,i.jsx)("button",{className:"pagination-item","data-active":t,type:"button",onClick:function(){return r(n)},children:(0,i.jsx)("span",{className:"page-link",children:o})})})),a=(0,n.memo)((function(e){var t=function(e){var t=e.total,r=e.pageSize,i=e.onPageChange,o=(0,n.useMemo)((function(){return function(e,t){return Array.from({length:Math.ceil(e/t)},(function(e,t){return t+1}))}(t,r)}),[t,r]),a=t>r,c=(0,n.useCallback)((function(e){i(e)}),[i]);return{items:o,show:a,handleClick:c}}(e),r=t.show,a=t.items,u=t.handleClick;return r?(0,i.jsx)("nav",{children:(0,i.jsx)("ul",{className:"pagination",children:a.map((function(t){return(0,i.jsx)("li",{className:"page-item",children:(0,i.jsx)(o,{active:c(t,e.current),item:t,onItemClick:u,children:t},t)},t)}))})}):null}));function c(e,t){return e===t}},7545:function(e,t,r){r.d(t,{V:function(){return i}});var n=r(4246),i=function(e){var t=e.children;return(0,n.jsx)("li",{className:"tag-default tag-pill tag-outline",children:t})}}}]);